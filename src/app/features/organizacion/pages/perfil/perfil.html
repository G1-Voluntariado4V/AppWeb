<div class="max-w-5xl mx-auto space-y-6">

  <div>
    <h1 class="text-2xl font-bold text-gray-900">Mi Perfil</h1>
    <p class="text-gray-500 text-sm">Gestiona la información pública de tu organización.</p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

    <!-- Card de Perfil (foto de Google, no editable) -->
    <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col items-center text-center h-fit">

      <div class="w-32 h-32 mb-4">
        @if (fotoGoogle()) {
        <img [src]="fotoGoogle()" alt="Foto de perfil"
          class="w-full h-full rounded-full object-cover border-4 border-gray-50 shadow-md"
          (error)="$event.target.style.display='none'">
        } @else {
        <div
          class="w-full h-full rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-5xl font-bold border-4 border-white shadow-md">
          {{ iniciales() }}
        </div>
        }
      </div>

      <h2 class="text-xl font-bold text-gray-900">{{ nombre() || 'Mi Organización' }}</h2>
      <p class="text-sm text-gray-500 mb-4">Organización Colaboradora</p>

      <p class="text-xs text-gray-400 mb-6">
        <i class="fa-brands fa-google mr-1"></i>
        La foto se obtiene de tu cuenta de Google
      </p>

      <div class="w-full pt-6 border-t border-gray-100 flex justify-between text-sm">
        <span class="text-gray-500">Estado</span>
        <span class="bg-green-100 text-green-700 px-2 py-0.5 rounded font-bold text-xs">Verificado</span>
      </div>
    </div>

    <!-- Formulario de datos -->
    <div class="lg:col-span-2 bg-white p-8 rounded-3xl border border-gray-100 shadow-sm">
      <h3 class="font-bold text-gray-900 mb-6 pb-4 border-b border-gray-100">Información General</h3>

      <div class="space-y-6">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Nombre Organización <span
                class="text-red-500">*</span></label>
            <input type="text" [ngModel]="nombre()" (ngModelChange)="nombre.set($event)" [disabled]="guardando()"
              class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
          </div>
          <div>
            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">
              CIF
              <i class="fa-solid fa-lock text-gray-300 ml-1" title="Campo no editable"></i>
            </label>
            <input type="text" [value]="cif()" readonly
              class="w-full bg-gray-100 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-500 cursor-not-allowed">
            <p class="text-xs text-gray-400 mt-1">Este campo no se puede modificar</p>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">
              <i class="fa-solid fa-envelope mr-1 text-gray-400"></i>
              Email de Contacto
              <i class="fa-solid fa-lock text-gray-300 ml-1" title="Campo no editable"></i>
            </label>
            <input type="email" [value]="email()" readonly
              class="w-full bg-gray-100 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-500 cursor-not-allowed">
            <p class="text-xs text-gray-400 mt-1">Vinculado a tu cuenta de Google</p>
          </div>
          <div>
            <label class="block text-xs font-bold text-gray-500 uppercase mb-2">
              <i class="fa-solid fa-phone mr-1 text-gray-400"></i>
              Teléfono
            </label>
            <input type="text" [ngModel]="telefono()" (ngModelChange)="telefono.set($event)" [disabled]="guardando()"
              class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
          </div>
        </div>

        <div>
          <label class="block text-xs font-bold text-gray-500 uppercase mb-2">
            <i class="fa-solid fa-location-dot mr-1 text-gray-400"></i>
            Dirección
          </label>
          <input type="text" [ngModel]="direccion()" (ngModelChange)="direccion.set($event)" [disabled]="guardando()"
            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            placeholder="Calle, número, ciudad...">
        </div>

        <div>
          <label class="block text-xs font-bold text-gray-500 uppercase mb-2">
            <i class="fa-solid fa-globe mr-1 text-gray-400"></i>
            Sitio Web
          </label>
          <input type="text" [ngModel]="web()" (ngModelChange)="web.set($event)" [disabled]="guardando()"
            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            placeholder="www.ejemplo.com">
        </div>

        <div>
          <label class="block text-xs font-bold text-gray-500 uppercase mb-2">Descripción <span
              class="text-red-500">*</span></label>
          <textarea [ngModel]="descripcion()" (ngModelChange)="descripcion.set($event)" rows="4"
            [disabled]="guardando()"
            class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:border-blue-500 outline-none transition-colors resize-none disabled:opacity-50 disabled:cursor-not-allowed"
            placeholder="Describe brevemente la actividad de tu organización..."></textarea>
          <p class="text-xs text-gray-400 mt-2 text-right">Campo obligatorio. Breve descripción de la actividad de la
            entidad.</p>
        </div>

      </div>

      <div class="mt-8 pt-6 border-t border-gray-100 flex justify-end">
        <button (click)="guardar()" [disabled]="guardando()"
          class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-xl font-bold text-sm shadow-md transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:bg-blue-600 flex items-center gap-2">
          @if (guardando()) {
          <i class="fa-solid fa-spinner fa-spin"></i>
          <span>Guardando...</span>
          } @else {
          <i class="fa-solid fa-save"></i>
          <span>Guardar Cambios</span>
          }
        </button>
      </div>

    </div>

  </div>
</div>